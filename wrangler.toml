name = "plane-discord-bot"
main = "src/server.js"
compatibility_date = "2024-09-23"
compatibility_flags = [ "nodejs_compat" ]

[vars]
PLANE_BASE_URL = "https://plane.superalign.ai/api/v1"
GEMINI_MODEL = "gemini-2.5-flash"
GEMINI_TEMPERATURE = 0.3

# Cron trigger for daily summary at 9AM IST (3:30 AM UTC)
[triggers]
crons = ["30 3 * * *"]

# Secrets to be set via 'wrangler secret put':
# DISCORD_TOKEN
# DISCORD_PUBLIC_KEY
# DISCORD_APPLICATION_ID
# PLANE_API_KEY
# WORKSPACE_SLUG
# GOOGLE_GENERATIVE_AI_API_KEY
# DAILY_SUMMARY_CHANNEL_ID - Discord channel ID for scheduled daily summaries
